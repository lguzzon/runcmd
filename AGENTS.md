<!-- Generated by agents-reverse-engineer v1.2.12 -->

<!-- Generated by agents-reverse-engineer -->
# runcmd

Universal Bun-based script runner with auto-installation, cross-platform support, integrated development tooling, and git-flow management. Separates boilerplate from business logic via runner scripts handling Bun installation, path resolution, `.env` loading, and tooling integration.

## Stack

- **Runtime:** Bun (JavaScript/TypeScript executor)
- **Shell:** Bash (runcmd.sh), Batch (runcmd.bat)
- **Web Framework:** Astro 4.15.0 (website)
- **Styling:** Tailwind CSS (website)
- **CLI Tools:** Biome (formatting/linting), shfmt (shell formatting), json-sort-cli

## Contents

### Runner Scripts

[runcmd.sh](./runcmd.sh) — Unix/macOS runner (1141 lines) with DEBUG flags (+debug/+dd/+ddd/+d0), environment loading, Bun auto-install, script resolution order, update checking, check mode (+check).

[runcmd.bat](./runcmd.bat) — Windows runner (364 lines) with equivalent functionality, PowerShell-based Bun installer, .env loading via `FOR /F` parsing, update mechanism.

[runcmd.mjs](./runcmd.mjs) — Default target script, logs CWD and CLI args, exits with code 10.

### Documentation

[README.md](./README.md) — Project overview, runner interface, git-flow commands table, configuration, development commands.

[CHANGELOG.md](./CHANGELOG.md) — Keep a Changelog format, Semantic Versioning v2.0.0, documented versions v1.9.0 through v1.0.0.

[LICENSE](./LICENSE) — MIT license for Luca Guzzon 2026.

[version.txt](./version.txt) — Declares version 1.9.0.

### Configuration

[biome.json](./biome.json) — 2-space indent, 80-char width, single quotes, asNeeded semicolons.

## Subdirectories

[scripts/](./scripts/) — Git Flow automation CLI with modular commands, lib utilities, and operations for branch management, release handling, and repository sync.

[website/](./website/) — Astro documentation site with Tailwind CSS, built to `../public` for GitHub Pages deployment.

## Architecture

```text
Runner Script (runcmd.sh/runcmd.bat)
    ↓
Script Resolution: explicit +r flag → current dir .mjs → script dir .mjs
    ↓
Environment Loading: script_dir .env → current_dir .env (overwrites)
    ↓
Tooling: Bun auto-install → Biome/shfmt/json-sort-cli (on +check)
    ↓
Update Check: 7-day interval, version.txt comparison, self-update
```

## Patterns

- **Script Discovery:** Explicit path → current directory → runner directory fallback chain
- **Environment Override:** Current directory `.env` takes precedence over script directory
- **Debug Levels:** +d (basic), +dd (file ops), +ddd (full echo), +d0 (disabled)
- **Update Mechanism:** State file at `$HOME/.runcmd/state.json`, compares semantic versions

## Behavioral Contracts

- **Update URL:** `https://lguzzondata.github.io/runcmd/version.txt`
- **State file:** `$HOME/.runcmd/state.json`
- **Check interval:** `7 * 24 * 3600` seconds
- **Bun install:** `$HOME/.bun` via `https://bun.sh/install`
- **shfmt flags:** `-bn -ci -i 2 -s`
- **.env regex:** `^[A-Za-z_][A-Za-z0-9_]*=`
- **Version format:** Semantic (x.y.z), no leading zeros

## Git-Flow Commands

Accessible via `bun scripts/git-flow.js`:

| Command | Action |
|---------|--------|
| `init` | Initialize git-flow |
| `start <type> <name>` | Create feature/release/hotfix branch |
| `finish <type> <name>` | Merge branch to develop/main |
| `publish <type> <name>` | Push branch to remote |
| `delete <type> <name>` | Delete branch |
| `release start --bump <major\|minor\|patch>` | Create release branch |
| `hotfix finish --tag <version> --message <msg>` | Complete hotfix |
| `sync --dry-run` | Sync main/master with develop |
| `clone <url> [dir]` | Clone and initialize git-flow |

## Workflow & Conventions

- Feature branches use conventional commit format: `feat(component): description`, `fix(component): description`, `chore:`, `refactor:`, `docs:`
- Releases tagged with `v` prefix in git but without `v` in changelog
- Merge tags from release branches into develop
- `.env` comments start with `#`
- Website build outputs to `../public` for GitHub Pages
