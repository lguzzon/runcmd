<!-- Generated by agents-reverse-engineer v1.2.12 -->

<!-- Generated by agents-reverse-engineer -->
# scripts/lib

Utility library directory providing version management, changelog generation, and CLI prompt functionality for the release tooling.

## Contents

[changelog.js](./changelog.js) — Git-integrated CHANGELOG.md versioning: retrieves last tag, collects commits since ref, prepends version sections, commits changes.

[prompts.js](./prompts.js) — CLI prompting utilities: async/sync text input, yes/no prompts with CI bypass. Requires Bun runtime.

[version.js](./version.js) — Semver utilities: validate, parse, increment (major/minor/patch), compare versions, read from version.txt.

## Dependencies

- `../git-flow.js` — shared git operations (`logInfo`, `runGit`, `logError`)
- `node:fs` — file system operations (readFileSync, writeFileSync, existsSync)

## Behavioral Contracts

**changelog.js:**

- Commit subject format: `- %s`
- Changelog section format: `## v${version} - ${date}`
- Version duplicate detection: `includes(\`## v${version}\`)`
- Default changelog commit: `docs: update changelog for v${version}`

**version.js:**

- Semver regex: `/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)$/` (no leading zeros)
- Compares as X.Y.Z returning 1/0/-1

**prompts.js:**

- Yes detection: `ans.toLowerCase().startsWith("y")`
- Prompt format: `[Y/n]` or `[y/N]` based on default
- Sync read buffer: 1024 bytes

## Stack

- **Runtime:** Bun (prompts.js shebang requires `#!/usr/bin/env bun`)
- **Module system:** ES modules
- **Entry points:** None (library exports only)
